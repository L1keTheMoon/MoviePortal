"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[416],{9898:(e,t,r)=>{r.d(t,{A:()=>p});var i=r(9379),a=r(45),n=r(5865),l=r(7392),o=r(9135),s=r(9320),c=r(1387),d=r(2250);const h={container:"MovieList_container__MvLZX",list:"MovieList_list__BhQmN",item:"MovieList_item__6NQOY",movie:"MovieList_movie__6aHyF",info:"MovieList_info__3FyDH",rating:"MovieList_rating__qZnU1"};var v=r(579);const g=["totalPages","page","handlePageChange","list","removeButton","handleRemove"];function p(e){let{totalPages:t,page:r,handlePageChange:p,list:m,removeButton:u,handleRemove:x}=e,f=(0,a.A)(e,g);return(0,v.jsxs)("div",(0,i.A)((0,i.A)({className:h.container},f),{},{children:[(0,v.jsx)("ul",{className:h.list,children:m.map((e=>(0,v.jsxs)("li",{className:h.item,children:[(0,v.jsxs)(d.N_,{to:"/movies/".concat(e.kinopoiskId),className:h.movie,children:[(0,v.jsx)("div",{className:h.container,children:(0,v.jsx)("img",{src:e.posterUrl,alt:"poster"})}),(0,v.jsxs)("div",{className:h.info,children:[(0,v.jsx)(n.A,{variant:"h3",sx:{fontSize:36},style:{textDecoration:"underline"},children:e.nameRu||e.nameOriginal}),(0,v.jsx)(n.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:(e.nameOriginal?e.nameOriginal+", ":"")+("FILM"===e.type?"\u0444\u0438\u043b\u044c\u043c, ":"\u0441\u0435\u0440\u0438\u0430\u043b, ")+e.year}),e.ratingKinopoisk?(0,v.jsxs)("span",{className:h.rating,children:[(0,v.jsx)(s.A,{sx:{mr:1},fontSize:"large"}),e.ratingKinopoisk]}):(0,v.jsx)(n.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:"\u041d\u0435\u0442 \u043e\u0446\u0435\u043d\u043e\u043a"}),(0,v.jsx)(n.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:e.countries.map((e=>e.country)).join(", ")}),(0,v.jsx)(n.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:e.genres.map((e=>e.genre)).join(", ")})]})]}),u&&(0,v.jsx)(l.A,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e",sx:{mt:1.5},onClick:()=>{x(e.kinopoiskId)},children:(0,v.jsx)(c.A,{fontSize:"large"})})]},e.kinopoiskId)))}),(0,v.jsx)(o.A,{count:t,page:r,onChange:p,showFirstButton:!0,showLastButton:!0,shape:"rounded",size:"large",color:"primary"})]}))}},9953:(e,t,r)=>{r.d(t,{RC:()=>l,VQ:()=>a,VS:()=>i,Zb:()=>o,gK:()=>n});const i=[];for(let s=2026;s>=1890;s--){const e=String(s);i.push({id:e,year:s})}const a=[];for(let s=10;s>=0;s--){const e=String(s);a.push({id:e,rating:s})}const n=[{id:"FILM",type:"\u0444\u0438\u043b\u044c\u043c"},{id:"TV_SERIES",type:"\u0441\u0435\u0440\u0438\u0430\u043b"}],l=[{id:"YEAR",order:"\u0434\u0430\u0442\u0435 \u0432\u044b\u0445\u043e\u0434\u0430"},{id:"NUM_VOTE",order:"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438"},{id:"RATING",order:"\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443"}],o=[{id:1,name:"\u0434\u0430\u0442\u0435 \u0432\u044b\u0445\u043e\u0434\u0430",sortFn:(e,t)=>Number(t.year)-Number(e.year)},{id:2,name:"\u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443",sortFn:(e,t)=>e.nameRu.localeCompare(t.nameRu)},{id:3,name:"\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443",sortFn:(e,t)=>Number(t.ratingKinopoisk)-Number(e.ratingKinopoisk)}]},1416:(e,t,r)=>{r.r(t),r.d(t,{default:()=>K});var i=r(5043),a=r(5865),n=r(9379),l=r(45),o=r(8387),s=r(8610),c=r(9768),d=r(2108),h=r(6262),v=r(8206),g=r(5658),p=r(579);const m=["absolute","children","className","orientation","component","flexItem","light","role","textAlign","variant"],u=(0,d.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((0,h.A)((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,c.X4)(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),x=(0,d.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((0,h.A)((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}}))),f=i.forwardRef((function(e,t){const r=(0,v.b)({props:e,name:"MuiDivider"}),{absolute:i=!1,children:a,className:c,orientation:d="horizontal",component:h=(a||"vertical"===d?"div":"hr"),flexItem:f=!1,light:y=!1,role:b=("hr"!==h?"separator":void 0),textAlign:j="center",variant:A="fullWidth"}=r,w=(0,l.A)(r,m),S=(0,n.A)((0,n.A)({},r),{},{absolute:i,component:h,flexItem:f,light:y,orientation:d,role:b,textAlign:j,variant:A}),_=(e=>{const{absolute:t,children:r,classes:i,flexItem:a,light:n,orientation:l,textAlign:o,variant:c}=e,d={root:["root",t&&"absolute",c,n&&"light","vertical"===l&&"vertical",a&&"flexItem",r&&"withChildren",r&&"vertical"===l&&"withChildrenVertical","right"===o&&"vertical"!==l&&"textAlignRight","left"===o&&"vertical"!==l&&"textAlignLeft"],wrapper:["wrapper","vertical"===l&&"wrapperVertical"]};return(0,s.A)(d,g.K,i)})(S);return(0,p.jsx)(u,(0,n.A)((0,n.A)({as:h,className:(0,o.A)(_.root,c),role:b,ref:t,ownerState:S,"aria-orientation":"separator"!==b||"hr"===h&&"vertical"!==d?void 0:d},w),{},{children:a?(0,p.jsx)(x,{className:_.wrapper,ownerState:S,children:a}):null}))}));f&&(f.muiSkipListHighlight=!0);const y=f;var b=r(1165),j=r(2518),A=r(1637),w=r(5146),S=r(7561),_=r(7970),N=r(2221);const C="Select_wrapper__RXPGe",k="Select_label__PNNE0",M=["value","variants","variantName","handleChange","name","size","width","label","labelMinWidth"],W=(0,i.memo)((e=>{let{value:t,variants:r,variantName:i,handleChange:a,name:o,size:s="small",width:c=250,label:d,labelMinWidth:h=0}=e,v=(0,l.A)(e,M);return(0,p.jsxs)("div",(0,n.A)((0,n.A)({className:C},v),{},{children:[d&&(0,p.jsx)("label",{className:k,htmlFor:o,style:{minWidth:h+"px"},children:d+":"}),(0,p.jsx)(S.A,{size:s,sx:{width:c},children:(0,p.jsxs)(N.A,{MenuProps:{sx:{height:400,maxWidth:c},MenuListProps:{style:{backgroundColor:"var(--background-dark)",color:"var(--fontcolor)"}}},value:t||"",name:o,id:o,displayEmpty:!0,onChange:e=>a(e.target.name,e.target.value),style:{backgroundColor:"var(--background-dark)",color:"var(--fontcolor)"},children:[(0,p.jsx)(_.A,{value:"",children:"\u2014"}),r&&r.map((e=>(0,p.jsx)(_.A,{value:e.id,style:{textWrap:"wrap"},children:e[i]},e.id)))]})})]}))}));var F=r(9953);const L={form:"Filters_form__6r2Ga",group:"Filters_group__-LGuD",inputs:"Filters_inputs__oobrJ"};function R(e){let{handleChange:t,resetFilters:r,search:i,filters:n,isSuccess:l,genres:o,countries:s}=e;return(0,p.jsxs)("form",{className:L.form,children:[(0,p.jsxs)("div",{className:L.group,children:[(0,p.jsx)(w.A,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430 \u0438\u043b\u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u0430",value:n.keyword||"",variant:"outlined",onChange:e=>t("keyword",e.target.value),onKeyDown:e=>{"Enter"===e.key&&i()}}),(0,p.jsx)(W,{value:n.type,variants:F.gK,variantName:"type",handleChange:t,name:"type",label:"\u0422\u0438\u043f",labelMinWidth:80}),(0,p.jsx)(W,{value:n.countries,variants:l&&s,variantName:"country",handleChange:t,name:"countries",label:"\u0421\u0442\u0440\u0430\u043d\u0430",labelMinWidth:80}),(0,p.jsx)(W,{value:n.genres,variants:l&&o,variantName:"genre",handleChange:t,name:"genres",label:"\u0416\u0430\u043d\u0440",labelMinWidth:80})]}),(0,p.jsxs)("div",{className:L.group,children:[(0,p.jsx)(a.A,{variant:"h5",component:"h5",noWrap:!0,sx:{color:"var(--primary)",fontWeight:500},children:"\u0413\u043e\u0434 \u0432\u044b\u0445\u043e\u0434\u0430:"}),(0,p.jsxs)("div",{className:L.inputs,children:[(0,p.jsx)(W,{value:n.yearFrom,variantName:"year",variants:F.VS,handleChange:t,name:"yearFrom",label:"\u0441",labelMinWidth:30,width:125}),(0,p.jsx)(W,{value:n.yearTo,variantName:"year",variants:F.VS,handleChange:t,name:"yearTo",label:"\u043f\u043e",labelMinWidth:30,width:125})]})]}),(0,p.jsxs)("div",{className:L.group,children:[(0,p.jsx)(a.A,{variant:"h5",component:"h5",noWrap:!0,sx:{color:"var(--primary)",fontWeight:500},children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433:"}),(0,p.jsxs)("div",{className:L.inputs,children:[(0,p.jsx)(W,{value:n.ratingFrom,variantName:"rating",variants:F.VQ,handleChange:t,name:"ratingFrom",label:"\u043e\u0442",labelMinWidth:30,width:125}),(0,p.jsx)(W,{value:n.ratingTo,variantName:"rating",variants:F.VQ,handleChange:t,name:"ratingTo",label:"\u0434\u043e",labelMinWidth:30,width:125})]})]}),(0,p.jsx)(j.A,{variant:"outlined",onClick:r,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,p.jsx)(j.A,{variant:"contained",onClick:i,children:"\u041f\u0438\u043e\u0441\u043a"})]})}var I=r(5777),z=r(6289),T=r(3715),V=r(9898),P=r(7992),B=r(7574);const E={search:"AdvancedSearch_search__2pfem"};function D(){var e,t;const r=(0,I.G)((e=>e.filters)),n=(0,I.G)((e=>e.page)),[l,o]=(0,i.useState)(g),{data:s,isFetching:c,isError:d}=(0,P.Lg)(l),h=(0,P.gt)(""),v=(0,I.j)();function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Object.entries(r).reduce(((r,i)=>0===i[1]||i[1]?(i[0]===e&&(i[1]=t),r+"".concat(i[0],"=").concat(i[1],"&")):r+""),"")+"page=1"}(0,i.useEffect)((()=>{o(l.slice(0,l.lastIndexOf("=")+1)+Math.ceil(n/2))}),[n]);const m=(0,i.useCallback)(((e,t)=>{v((0,z._F)({key:e,value:t})),"order"===e&&(v((0,T.y)(1)),o(g(e,t)))}),[v]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.A,{component:"h2",sx:{fontSize:48,fontWeight:700,mb:1},children:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a"}),(0,p.jsxs)("div",{className:E.search,children:[(0,p.jsx)(R,{filters:r,handleChange:m,search:()=>{v((0,T.y)(1)),o(g())},resetFilters:()=>v((0,z.dr)("")),isSuccess:h.isSuccess,countries:null===(e=h.data)||void 0===e?void 0:e.genres,genres:null===(t=h.data)||void 0===t?void 0:t.genres}),(0,p.jsx)(y,{orientation:"vertical",flexItem:!0}),(0,p.jsxs)("div",{style:{flexGrow:1},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,p.jsx)(a.A,{component:"h2",sx:{fontSize:36,fontWeight:700},children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e"}),(0,p.jsx)(b.A,{variant:"outlined",sx:{ml:4,mt:.5},children:F.RC.map((e=>(0,p.jsx)(j.A,{variant:r.order===e.id?"contained":"outlined",name:"order",value:e.id,onClick:()=>m("order",e.id),children:e.order},e.id)))})]}),d?(0,p.jsx)(B.A,{}):c?(0,p.jsx)(A.A,{size:300,style:{display:"block",margin:"30px auto 0"}}):(null===s||void 0===s?void 0:s.items.length)>0?(0,p.jsx)(V.A,{totalPages:Math.ceil(s.total/10),page:n,handlePageChange:(e,t)=>{v((0,T.y)(t))},list:s.items.filter(((e,t)=>n%2===0?t>=10:t<10))}):(0,p.jsx)(a.A,{variant:"h1",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})]})]})}function K(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(D,{})})}}}]);
//# sourceMappingURL=416.7d0951e8.chunk.js.map