"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[358],{7254:(e,n,i)=>{function r(e,n){const i=JSON.parse(localStorage.getItem(n+"-Favorites"));i.push(e),localStorage.setItem(n+"-Favorites",JSON.stringify(i))}function s(e,n){let i=JSON.parse(localStorage.getItem(n+"-Favorites"));i=i.filter((n=>n.kinopoiskId!==e)),localStorage.setItem(n+"-Favorites",JSON.stringify(i))}i.d(n,{_:()=>r,w:()=>s})},7358:(e,n,i)=>{i.r(n),i.d(n,{default:()=>y});var r=i(9379),s=i(2250),t=i(5043),o=i(5865),a=i(7392),c=i(9650),l=i(1806),p=i(3460),h=i(8076),d=i(39),m=i(6682),x=i(5244),g=i(9320),j=i(5777),f=i(7254);const A={container:"MovieInfo_container__FIYMV","poster-wrapper":"MovieInfo_poster-wrapper__2xge5",poster:"MovieInfo_poster__6cbiC","info-wrapper":"MovieInfo_info-wrapper__XEF6E",name:"MovieInfo_name__Ochs1",logo:"MovieInfo_logo__hqOh0",limit:"MovieInfo_limit__rTTwT"};var u=i(579);function v(e){let{nameRu:n,serial:i,startYear:r,endYear:v,year:_,kinopoiskId:I,posterUrl:w,type:y,ratingKinopoisk:k,ratingImdb:F,countries:S,genres:M,nameOriginal:N,slogan:O,filmLength:L,ratingAgeLimits:b,description:z,shortDescription:C}=e;const E=(0,j.G)((e=>e.user)),[J,W]=(0,t.useState)(!1),R=(0,s.Zp)(),T=(0,s.zy)();return(0,t.useEffect)((()=>{document.title="".concat(n," (").concat(i?r+" \u2013 "+v:_,")")}),[I]),(0,t.useEffect)((()=>{null!==E&&void 0!==E&&E.isLogin&&W(JSON.parse(localStorage.getItem(E.name+"-Favorites")).find((e=>e.kinopoiskId===I)))}),[I,E]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:A.container,children:[(0,u.jsx)("div",{className:A["poster-wrapper"],children:(0,u.jsx)("img",{className:A.poster,src:w,alt:"poster"})}),(0,u.jsxs)("div",{className:A["info-wrapper"],children:[(0,u.jsxs)("div",{className:A.name,children:[(0,u.jsx)(o.A,{variant:"h1",sx:{fontWeight:500,fontSize:80},style:{maxWidth:"90%"},children:n||N}),(0,u.jsx)("div",{children:(0,u.jsx)(a.A,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",color:"primary",onClick:function(){null!==E&&void 0!==E&&E.isLogin?(J?(0,f.w)(I,E.name):(0,f._)({kinopoiskId:I,posterUrl:w,countries:S,genres:M,year:_,type:y,nameRu:n||N,ratingKinopoisk:k||F},E.name),W((e=>!e))):R("/Authorization",{state:{referrer:T.pathname,registration:!1}})},children:(0,u.jsx)(x.A,{style:{color:J?"var(--primary)":"var(--background-dark)"}})})})]}),(0,u.jsx)(c.A,{sx:{mt:2},children:(0,u.jsx)(l.A,{sx:{minWidth:650},children:(0,u.jsxs)(p.A,{children:[(0,u.jsxs)(h.A,{children:[(0,u.jsx)(d.A,{component:"th",scope:"row",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 "+("FILM"===y?"\u0444\u0438\u043b\u044c\u043c\u0430":"\u0441\u0435\u0440\u0438\u0430\u043b\u0430")}),(0,u.jsxs)(d.A,{align:"left",style:{display:"flex",alignItems:"center"},children:[(0,u.jsx)(m.A,{defaultValue:k||F,max:10,precision:.1,size:"large",readOnly:!0,emptyIcon:(0,u.jsx)(g.A,{fontSize:"inherit"}),style:{marginRight:"5px"}}),k||F?"(".concat(k||F,"/10)"):"(\u041d\u0435\u0442 \u043e\u0446\u0435\u043d\u043e\u043a)"]})]}),(0,u.jsxs)(h.A,{children:[(0,u.jsx)(d.A,{component:"th",scope:"row",children:"FILM"===y?"\u0413\u043e\u0434 \u0432\u044b\u0445\u043e\u0434\u0430":"\u041f\u0435\u0440\u0438\u043e\u0434 \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u0438"}),(0,u.jsx)(d.A,{align:"left",children:"FILM"===y?_:"(".concat(r," \u2013 ").concat(v,")")})]}),(0,u.jsxs)(h.A,{children:[(0,u.jsx)(d.A,{component:"th",scope:"row",children:"\u0421\u0442\u0440\u0430\u043d\u0430"}),(0,u.jsx)(d.A,{align:"left",children:S.map((e=>e.country)).join(", ")})]}),(0,u.jsxs)(h.A,{children:[(0,u.jsx)(d.A,{component:"th",scope:"row",children:"\u0416\u0430\u043d\u0440"}),(0,u.jsx)(d.A,{align:"left",children:M.map((e=>e.genre)).join(", ")})]}),N&&(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(h.A,{children:[(0,u.jsx)(d.A,{component:"th",scope:"row",children:"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,u.jsx)(d.A,{align:"left",children:N})]})}),(0,u.jsx)(h.A,{children:O&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.A,{component:"th",scope:"row",children:"\u0421\u043b\u043e\u0433\u0430\u043d"}),(0,u.jsx)(d.A,{align:"left",children:O})]})}),(0,u.jsxs)(h.A,{children:[(0,u.jsx)(d.A,{component:"th",scope:"row",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"+("FILM"===y?"":" \u0441\u0435\u0440\u0438\u0438")}),(0,u.jsx)(d.A,{align:"left",children:"".concat(L>=60?Math.floor(L/60)+"\u0447.":""," ").concat(L%60!==0?L%60+" \u043c\u0438\u043d.":"")})]}),(0,u.jsxs)(h.A,{children:[(0,u.jsx)(d.A,{component:"th",scope:"row",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442\u043d\u043e\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433"}),(0,u.jsx)(d.A,{align:"left",children:(0,u.jsx)("span",{className:A.limit,children:b?b.slice(3)+"+":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d"})})]})]})})})]})]}),(0,u.jsx)(o.A,{variant:"h3",component:"h2",sx:{mt:2,mb:1,fontWeight:500},children:"\u0421\u044e\u0436\u0435\u0442:"}),(0,u.jsx)(o.A,{component:"p",fontSize:20,children:z+" "+C})]})}var _=i(1637),I=i(7992),w=i(7574);function y(){const{id:e}=(0,s.g)(),{data:n,isFetching:i,isError:t}=(0,I.C2)(e);return(0,u.jsx)(u.Fragment,{children:t?(0,u.jsx)(w.A,{}):i?(0,u.jsx)(_.A,{size:300,style:{display:"block",margin:"30px auto 0"}}):n?(0,u.jsx)(v,(0,r.A)({},n)):null})}}}]);
//# sourceMappingURL=358.d2bfe981.chunk.js.map