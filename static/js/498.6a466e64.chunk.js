"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[498],{6498:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(5043),s=n(7353),o=n(3625),l=n(4056),a=n(9379),i=n(45),u=n(579);const d=["children","value","index"];function c(e){let{children:t,value:n,index:r}=e,o=(0,i.A)(e,d);return(0,u.jsx)("div",(0,a.A)((0,a.A)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},o),{},{children:n===r&&(0,u.jsx)(s.A,{sx:{p:3},children:t})}))}var x=n(5146),h=n(2518),f=n(3559),p=n(3632),v=n(1787),j=n(7392);const m={color:"var(--fontcolor)"};function g(e){let{ref:t,error:n,helperText:s,lable:o,id:l,onChange:a,onKeyDown:i}=e;const[d,c]=(0,r.useState)(!1);return(0,u.jsx)(x.A,{sx:{m:1},fullWidth:!0,name:"user",variant:"outlined",onChange:a,onKeyDown:i,label:o,id:l,inputRef:t,error:n,helperText:s,type:d?"text":"password",slotProps:{input:{endAdornment:(0,u.jsx)(v.A,{position:"end",children:(0,u.jsx)(j.A,{onClick:()=>c((e=>!e)),onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()},edge:"end",children:d?(0,u.jsx)(f.A,{style:m}):(0,u.jsx)(p.A,{style:m})})})}}})}var b=n(2250),A=n(5777);const y={form:"LoginForm_form__Axqez"},w={status:!1,text:""};function z(e){let{register:t=!1,authorizationHandler:n}=e;const s=(0,r.useRef)(null),o=(0,r.useRef)(null),l=(0,r.useRef)(null),[a,i]=(0,r.useState)(w),[d,c]=(0,r.useState)(w),f=(0,A.j)(),p=(0,b.Zp)(),v=(0,b.zy)();function j(){d.status&&c(w)}function m(e){"Enter"===e.key&&z()}function z(){let e=!0;const r=s.current.value,a=o.current.value;if(r.length>2?i(w):(i({status:!0,text:"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}),e=!1),a.length>7&&a.match(/[a-z]\d|\d[a-z]/i)?(c(w),t&&a!==l.current.value&&(c({status:!0,text:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}),e=!1)):(c({status:!0,text:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c"}),e=!1),e){var u;try{f(n({login:r,password:a}))}catch(d){return console.log(d.message),i({status:!0,text:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),void c({status:!0,text:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})}p((null===(u=v.state)||void 0===u?void 0:u.referrer)||document.referrer||"/")}}return(0,u.jsxs)("form",{className:y.form,id:(t?"register-":"login-")+"form",children:[(0,u.jsx)(x.A,{sx:{m:1},fullWidth:!0,label:"\u041b\u043e\u0433\u0438\u043d",name:"user",variant:"outlined",inputRef:s,error:a.status,helperText:a.text,onChange:function(){a.status&&i(w)},onKeyDown:m}),(0,u.jsx)(g,{ref:o,lable:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"password1",error:d.status,helperText:d.text||t&&"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432\u043a\u043b\u044e\u0447\u0430\u044f 1 \u0431\u0443\u043a\u0432\u0443 \u0438 1 \u0446\u0438\u0444\u0440\u0443",onChange:j,onKeyDown:m}),t&&(0,u.jsx)(g,{ref:l,lable:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",id:"password2",error:d.status,helperText:d.text,onChange:j,onKeyDown:m}),(0,u.jsx)(h.A,{variant:"contained",size:"large",fullWidth:!0,onClick:z,children:t?"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f":"\u0412\u043e\u0439\u0442\u0438"})]})}var C=n(5995);function k(){const[e,t]=(0,r.useState)(0),n=(0,A.G)((e=>e.user)),a=(0,b.zy)(),i=(0,b.Zp)();(0,r.useEffect)((()=>{var e;t((null===(e=a.state)||void 0===e?void 0:e.registration)||0),null!==n&&void 0!==n&&n.isLogin&&i("/")}),[]);return(0,u.jsxs)("div",{children:[(0,u.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,u.jsxs)(o.A,{centered:!0,value:e,onChange:(e,n)=>{t(n)},children:[(0,u.jsx)(l.A,{sx:{fontSize:30},label:"\u0412\u0445\u043e\u0434",id:"simple-tab-0"}),(0,u.jsx)(l.A,{sx:{fontSize:30},label:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",id:"simple-tab-1"})]})}),(0,u.jsx)(c,{value:e,index:0,children:(0,u.jsx)(z,{authorizationHandler:C.E8})}),(0,u.jsx)(c,{value:e,index:1,children:(0,u.jsx)(z,{register:!0,authorizationHandler:C.kg})})]})}}}]);
//# sourceMappingURL=498.6a466e64.chunk.js.map