"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[840],{415:(e,t,r)=>{r.d(t,{A:()=>m});var a=r(9379),i=r(45),n=r(5043),o=r(7621),l=r(9389),s=r(5865),c=r(7392);const d={carousel:"Carousel_carousel__T+FNI",header:"Carousel_header__TE9W-",content:"Carousel_content__9lVLN",list:"Carousel_list__2AnSc"};var h=r(579);const v=["header","list","ListItem"],g={color:"praimary",width:32,height:32};function m(e){var t;let{header:r,list:m,ListItem:p}=e,u=(0,i.A)(e,v);const[x,f]=(0,n.useState)(0),j=(0,n.useRef)(null);function y(e){x+e<0?f(m.length-6):x+e>m.length-6?f(0):f(x+e)}return(0,h.jsxs)("div",(0,a.A)((0,a.A)({className:d.carousel},u),{},{children:[(0,h.jsxs)("div",{className:d.header,children:[(0,h.jsx)(s.A,{variant:"h4",sx:{flexGrow:1,fontWeight:700},children:r}),(0,h.jsx)(c.A,{color:"primary",style:{backgroundColor:"var(--background-dark)"},onClick:()=>y(-1),children:(0,h.jsx)(o.A,{sx:g})}),(0,h.jsx)(c.A,{color:"primary",style:{backgroundColor:"var(--background-dark)"},onClick:()=>y(1),children:(0,h.jsx)(l.A,{sx:g})})]}),(0,h.jsx)("div",{className:d.content,children:(0,h.jsx)("ul",{className:d.list,style:{right:j.current?"".concat(x*(null===(t=j.current)||void 0===t?void 0:t.offsetWidth),"px"):"0"},children:m.map(((e,t)=>(0,n.createElement)(p,(0,a.A)((0,a.A)({},e),{},{key:t,ref:j}))))})})]}))}},9898:(e,t,r)=>{r.d(t,{A:()=>m});var a=r(9379),i=r(45),n=r(5865),o=r(7392),l=r(9135),s=r(1387),c=r(9320),d=r(2250);const h={container:"MovieList_container__MvLZX",list:"MovieList_list__BhQmN",item:"MovieList_item__6NQOY",movie:"MovieList_movie__6aHyF",info:"MovieList_info__3FyDH",rating:"MovieList_rating__qZnU1"};var v=r(579);const g=["totalPages","page","handlePageChange","list","removeButton","handleRemove"];function m(e){let{totalPages:t,page:r,handlePageChange:m,list:p,removeButton:u,handleRemove:x}=e,f=(0,i.A)(e,g);return(0,v.jsxs)("div",(0,a.A)((0,a.A)({className:h.container},f),{},{children:[(0,v.jsx)("ul",{className:h.list,children:p.map((e=>(0,v.jsx)("li",{className:h.item,children:(0,v.jsxs)(d.N_,{to:"/movies/".concat(e.kinopoiskId),className:h.movie,children:[(0,v.jsx)("div",{className:h.container,children:(0,v.jsx)("img",{src:e.posterUrl,alt:"poster"})}),(0,v.jsxs)("div",{className:h.info,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(n.A,{variant:"h3",sx:{fontSize:36},style:{textDecoration:"underline"},children:e.nameRu||e.nameOriginal}),u&&(0,v.jsx)(o.A,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e",onClick:t=>{t.preventDefault(),x(e.kinopoiskId)},children:(0,v.jsx)(s.A,{fontSize:"large"})})]}),(0,v.jsx)(n.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:(e.nameOriginal?e.nameOriginal+", ":"")+("FILM"===e.type?"\u0444\u0438\u043b\u044c\u043c, ":"\u0441\u0435\u0440\u0438\u0430\u043b, ")+e.year}),e.ratingKinopoisk?(0,v.jsxs)("span",{className:h.rating,children:[(0,v.jsx)(c.A,{sx:{mr:1},fontSize:"large"}),e.ratingKinopoisk]}):(0,v.jsx)(n.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:"\u041d\u0435\u0442 \u043e\u0446\u0435\u043d\u043e\u043a"}),(0,v.jsx)(n.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:e.countries.map((e=>e.country)).join(", ")}),(0,v.jsx)(n.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:e.genres.map((e=>e.genre)).join(", ")})]})]})},e.kinopoiskId)))}),(0,v.jsx)(l.A,{count:t,page:r,onChange:m,showFirstButton:!0,showLastButton:!0,shape:"rounded",size:"large",color:"primary"})]}))}},9953:(e,t,r)=>{r.d(t,{RC:()=>o,VQ:()=>i,VS:()=>a,Zb:()=>l,gK:()=>n});const a=[];for(let s=2026;s>=1890;s--){const e=String(s);a.push({id:e,year:s})}const i=[];for(let s=10;s>=0;s--){const e=String(s);i.push({id:e,rating:s})}const n=[{id:"FILM",type:"\u0444\u0438\u043b\u044c\u043c"},{id:"TV_SERIES",type:"\u0441\u0435\u0440\u0438\u0430\u043b"}],o=[{id:"YEAR",order:"\u0434\u0430\u0442\u0435 \u0432\u044b\u0445\u043e\u0434\u0430"},{id:"NUM_VOTE",order:"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438"},{id:"RATING",order:"\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443"}],l=[{id:1,name:"\u0434\u0430\u0442\u0435 \u0432\u044b\u0445\u043e\u0434\u0430",sortFn:(e,t)=>Number(t.year)-Number(e.year)},{id:2,name:"\u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443",sortFn:(e,t)=>e.nameRu.localeCompare(t.nameRu)},{id:3,name:"\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443",sortFn:(e,t)=>Number(t.ratingKinopoisk)-Number(e.ratingKinopoisk)}]},7840:(e,t,r)=>{r.r(t),r.d(t,{default:()=>q});var a=r(5043),i=r(5865),n=r(9379),o=r(45),l=r(8387),s=r(8610),c=r(9768),d=r(2108),h=r(6262),v=r(8206),g=r(5658),m=r(579);const p=["absolute","children","className","orientation","component","flexItem","light","role","textAlign","variant"],u=(0,d.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((0,h.A)((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,c.X4)(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),x=(0,d.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((0,h.A)((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}}))),f=a.forwardRef((function(e,t){const r=(0,v.b)({props:e,name:"MuiDivider"}),{absolute:a=!1,children:i,className:c,orientation:d="horizontal",component:h=(i||"vertical"===d?"div":"hr"),flexItem:f=!1,light:j=!1,role:y=("hr"!==h?"separator":void 0),textAlign:A="center",variant:b="fullWidth"}=r,_=(0,o.A)(r,p),w=(0,n.A)((0,n.A)({},r),{},{absolute:a,component:h,flexItem:f,light:j,orientation:d,role:y,textAlign:A,variant:b}),N=(e=>{const{absolute:t,children:r,classes:a,flexItem:i,light:n,orientation:o,textAlign:l,variant:c}=e,d={root:["root",t&&"absolute",c,n&&"light","vertical"===o&&"vertical",i&&"flexItem",r&&"withChildren",r&&"vertical"===o&&"withChildrenVertical","right"===l&&"vertical"!==o&&"textAlignRight","left"===l&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,s.A)(d,g.K,a)})(w);return(0,m.jsx)(u,(0,n.A)((0,n.A)({as:h,className:(0,l.A)(N.root,c),role:y,ref:t,ownerState:w,"aria-orientation":"separator"!==y||"hr"===h&&"vertical"!==d?void 0:d},_),{},{children:i?(0,m.jsx)(x,{className:N.wrapper,ownerState:w,children:i}):null}))}));f&&(f.muiSkipListHighlight=!0);const j=f;var y=r(1165),A=r(2518),b=r(1637),_=r(5146),w=r(7561),N=r(7970),C=r(2221);const S="Select_wrapper__RXPGe",k="Select_label__PNNE0",M=["value","variants","variantName","handleChange","name","size","width","label","labelMinWidth"],L=(0,a.memo)((e=>{let{value:t,variants:r,variantName:a,handleChange:i,name:l,size:s="small",width:c=250,label:d,labelMinWidth:h=0}=e,v=(0,o.A)(e,M);return(0,m.jsxs)("div",(0,n.A)((0,n.A)({className:S},v),{},{children:[d&&(0,m.jsx)("label",{className:k,htmlFor:l,style:{minWidth:h+"px"},children:d+":"}),(0,m.jsx)(w.A,{size:s,sx:{width:c},children:(0,m.jsxs)(C.A,{MenuProps:{sx:{height:400,maxWidth:c},MenuListProps:{style:{backgroundColor:"var(--background-dark)",color:"var(--fontcolor)"}}},value:t||"",name:l,id:l,displayEmpty:!0,onChange:e=>i(e.target.name,e.target.value),style:{backgroundColor:"var(--background-dark)",color:"var(--fontcolor)"},children:[(0,m.jsx)(N.A,{value:"",children:"\u2014"}),r&&r.map((e=>(0,m.jsx)(N.A,{value:e.id,style:{textWrap:"wrap"},children:e[a]},e.id)))]})})]}))}));var W=r(9953);const I={form:"Filters_form__6r2Ga",group:"Filters_group__-LGuD",inputs:"Filters_inputs__oobrJ"};function F(e){let{handleChange:t,resetFilters:r,search:a,filters:n,isSuccess:o,genres:l,countries:s}=e;return(0,m.jsxs)("form",{className:I.form,children:[(0,m.jsxs)("div",{className:I.group,children:[(0,m.jsx)(_.A,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430 \u0438\u043b\u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u0430",value:n.keyword||"",variant:"outlined",onChange:e=>t("keyword",e.target.value),onKeyDown:e=>{"Enter"===e.key&&a()}}),(0,m.jsx)(L,{value:n.type,variants:W.gK,variantName:"type",handleChange:t,name:"type",label:"\u0422\u0438\u043f",labelMinWidth:80}),(0,m.jsx)(L,{value:n.countries,variants:o&&s,variantName:"country",handleChange:t,name:"countries",label:"\u0421\u0442\u0440\u0430\u043d\u0430",labelMinWidth:80}),(0,m.jsx)(L,{value:n.genres,variants:o&&l,variantName:"genre",handleChange:t,name:"genres",label:"\u0416\u0430\u043d\u0440",labelMinWidth:80})]}),(0,m.jsxs)("div",{className:I.group,children:[(0,m.jsx)(i.A,{variant:"h5",component:"h5",noWrap:!0,sx:{color:"var(--primary)",fontWeight:500},children:"\u0413\u043e\u0434 \u0432\u044b\u0445\u043e\u0434\u0430:"}),(0,m.jsxs)("div",{className:I.inputs,children:[(0,m.jsx)(L,{value:n.yearFrom,variantName:"year",variants:W.VS,handleChange:t,name:"yearFrom",label:"\u0441",labelMinWidth:30,width:125}),(0,m.jsx)(L,{value:n.yearTo,variantName:"year",variants:W.VS,handleChange:t,name:"yearTo",label:"\u043f\u043e",labelMinWidth:30,width:125})]})]}),(0,m.jsxs)("div",{className:I.group,children:[(0,m.jsx)(i.A,{variant:"h5",component:"h5",noWrap:!0,sx:{color:"var(--primary)",fontWeight:500},children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433:"}),(0,m.jsxs)("div",{className:I.inputs,children:[(0,m.jsx)(L,{value:n.ratingFrom,variantName:"rating",variants:W.VQ,handleChange:t,name:"ratingFrom",label:"\u043e\u0442",labelMinWidth:30,width:125}),(0,m.jsx)(L,{value:n.ratingTo,variantName:"rating",variants:W.VQ,handleChange:t,name:"ratingTo",label:"\u0434\u043e",labelMinWidth:30,width:125})]})]}),(0,m.jsx)(A.A,{variant:"outlined",onClick:r,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,m.jsx)(A.A,{variant:"contained",onClick:a,children:"\u041f\u0438\u043e\u0441\u043a"})]})}var R=r(5777),z=r(6289),T=r(3715),V=r(9898),E=r(7992),B=r(7574);const D={search:"AdvancedSearch_search__2pfem"};function P(){var e,t;const r=(0,R.G)((e=>e.filters)),n=(0,R.G)((e=>e.page)),[o,l]=(0,a.useState)(g),{data:s,isFetching:c,isError:d}=(0,E.Lg)(o),h=(0,E.gt)(""),v=(0,R.j)();function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Object.entries(r).reduce(((r,a)=>0===a[1]||a[1]?(a[0]===e&&(a[1]=t),r+"".concat(a[0],"=").concat(a[1],"&")):r+""),"")+"page=1"}(0,a.useEffect)((()=>{l(o.slice(0,o.lastIndexOf("=")+1)+Math.ceil(n/2))}),[n]);const p=(0,a.useCallback)(((e,t)=>{v((0,z._F)({key:e,value:t})),"order"===e&&(v((0,T.y)(1)),l(g(e,t)))}),[v]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.A,{component:"h2",sx:{fontSize:48,fontWeight:700,mb:1},children:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a"}),(0,m.jsxs)("div",{className:D.search,children:[(0,m.jsx)(F,{filters:r,handleChange:p,search:()=>{v((0,T.y)(1)),l(g())},resetFilters:()=>v((0,z.dr)("")),isSuccess:h.isSuccess,countries:null===(e=h.data)||void 0===e?void 0:e.countries,genres:null===(t=h.data)||void 0===t?void 0:t.genres}),(0,m.jsx)(j,{orientation:"vertical",flexItem:!0}),(0,m.jsxs)("div",{style:{flexGrow:1},children:[(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,m.jsx)(i.A,{component:"h2",sx:{fontSize:36,fontWeight:700},children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e"}),(0,m.jsx)(y.A,{variant:"outlined",sx:{ml:4,mt:.5},children:W.RC.map((e=>(0,m.jsx)(A.A,{variant:r.order===e.id?"contained":"outlined",name:"order",value:e.id,onClick:()=>p("order",e.id),children:e.order},e.id)))})]}),d?(0,m.jsx)(B.A,{}):c?(0,m.jsx)(b.A,{size:300,style:{display:"block",margin:"30px auto 0"}}):(null===s||void 0===s?void 0:s.items.length)>0?(0,m.jsx)(V.A,{totalPages:Math.ceil(s.total/10),page:n,handlePageChange:(e,t)=>{v((0,T.y)(t))},list:s.items.filter(((e,t)=>n%2===0?t>=10:t<10))}):(0,m.jsx)(i.A,{variant:"h1",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})]})]})}var G=r(415),K=r(2250);const O={movie:"CaroulelMovieItem_movie__R9WRX",poster:"CaroulelMovieItem_poster__TouVk",image:"CaroulelMovieItem_image__7ToE7"};function U(e){let{kinopoiskId:t,nameRu:r,posterUrl:a,ref:n}=e;return(0,m.jsx)("li",{className:O.movie,ref:n,children:(0,m.jsxs)(K.N_,{to:"/movies/"+t,children:[(0,m.jsx)("div",{className:O.poster,children:(0,m.jsx)("img",{className:O.image,src:a,alt:"poster"})}),(0,m.jsx)(i.A,{variant:"h5",component:"h5",align:"center",sx:{fontWeight:500,fontSize:16,pt:.5},children:r})]})})}const Q=new Date,X=Q.toLocaleString("en-US",{month:"long"}).toUpperCase();let H=Q.toLocaleString("ru-RU",{month:"long"});2===Q.getMonth()||7===Q.getMonth()?H+="\u0430":H=H.slice(0,-1)+"\u044f";const Y=Q.getFullYear();function Z(){const{data:e,isFetching:t,isError:r}=(0,E.gz)("year=".concat(Y,"&month=").concat(X));return(0,m.jsx)(m.Fragment,{children:r?null:t?(0,m.jsx)(b.A,{size:300,style:{display:"block",margin:"30px auto 0"}}):e?(0,m.jsx)(G.A,{header:"\u041f\u0440\u0435\u043c\u044c\u0435\u0440\u044b ".concat(H," ").concat(Y),list:e.items.filter(((e,t)=>t<20)),ListItem:U}):null})}function q(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Z,{}),(0,m.jsx)(P,{})]})}},7621:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(9662),i=r(579);const n=(0,a.A)((0,i.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew")},9389:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(9662),i=r(579);const n=(0,a.A)((0,i.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos")}}]);
//# sourceMappingURL=840.630e6019.chunk.js.map