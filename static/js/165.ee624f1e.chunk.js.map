{"version":3,"file":"static/js/165.ee624f1e.chunk.js","mappings":"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","sources":["webpack://movie-portal/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.tsx","constants/constants.ts","helpers/favorite.ts","webpack://movie-portal/./src/components/FavoriteSelection/FavoriteSelection.module.css?f0d9","components/FavoriteSelection/FavoriteSelection.tsx","pages/FavoritesPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieList_container__MvLZX\",\"list\":\"MovieList_list__BhQmN\",\"item\":\"MovieList_item__6NQOY\",\"movie\":\"MovieList_movie__6aHyF\",\"info\":\"MovieList_info__3FyDH\",\"rating\":\"MovieList_rating__qZnU1\"};","import { ChangeEvent, HTMLAttributes } from 'react';\r\nimport { MovieShortData } from '../../types/types';\r\nimport { IconButton, Pagination, Typography } from '@mui/material';\r\nimport { Delete, Star } from '@mui/icons-material';\r\nimport { Link } from 'react-router';\r\nimport styles from './MovieList.module.css';\r\n\r\ninterface MovieListProps extends HTMLAttributes<HTMLDivElement> {\r\n\ttotalPages: number,\r\n\tpage: number,\r\n\thandlePageChange: (event: ChangeEvent<unknown>, value: number) => void,\r\n\tlist: MovieShortData[],\r\n\tremoveButton?: boolean,\r\n\thandleRemove?: (id: number) => void\r\n}\r\n\r\nexport default function MovieList({ totalPages, page, handlePageChange, list, removeButton, handleRemove, ...props }: MovieListProps) {\r\n\r\n\treturn (\r\n\t\t<div className={styles.container} {...props}>\r\n\t\t\t<ul className={styles.list}>\r\n\t\t\t\t{list.map(e => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li className={styles.item} key={e.kinopoiskId}>\r\n\t\t\t\t\t\t\t<Link to={`/movies/${e.kinopoiskId}`} className={styles.movie}>\r\n\t\t\t\t\t\t\t\t<div className={styles.container}>\r\n\t\t\t\t\t\t\t\t\t<img src={e.posterUrl} alt=\"poster\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={styles.info}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='h3'\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ fontSize: 36 }}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ textDecoration: 'underline' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{e.nameRu || e.nameOriginal}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{removeButton &&\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle='Удалить из избранного'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemove(e.kinopoiskId);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Delete\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize='large'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant='h4'\r\n\t\t\t\t\t\t\t\t\t\tsx={{ fontSize: 28 }}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'var(--fontcolor-gray)' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{(e.nameOriginal ? e.nameOriginal + ', ' : '') + (e.type === 'FILM' ? 'фильм, ' : 'сериал, ') + e.year}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t{e.ratingKinopoisk ?\r\n\t\t\t\t\t\t\t\t\t\t<span className={styles.rating}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Star sx={{ mr: 1 }} fontSize='large' />\r\n\t\t\t\t\t\t\t\t\t\t\t{e.ratingKinopoisk}\r\n\t\t\t\t\t\t\t\t\t\t</span> :\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='h4'\r\n\t\t\t\t\t\t\t\t\t\t\tsx={{ fontSize: 28 }}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'var(--fontcolor-gray)' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tНет оценок\r\n\t\t\t\t\t\t\t\t\t\t</Typography>}\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant='h4'\r\n\t\t\t\t\t\t\t\t\t\tsx={{ fontSize: 28 }}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'var(--fontcolor-gray)' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{e.countries.map(e => e.country).join(', ')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tvariant='h4'\r\n\t\t\t\t\t\t\t\t\t\tsx={{ fontSize: 28 }}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'var(--fontcolor-gray)' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{e.genres.map(e => e.genre).join(', ')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</ul>\r\n\t\t\t<Pagination\r\n\t\t\t\tcount={totalPages}\r\n\t\t\t\tpage={page}\r\n\t\t\t\tonChange={handlePageChange}\r\n\t\t\t\tshowFirstButton\r\n\t\t\t\tshowLastButton\r\n\t\t\t\tshape=\"rounded\"\r\n\t\t\t\tsize='large'\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\r\n\t)\r\n}\r\n","import { FilterParams, SortVariant } from '../types/types';\r\n\r\n//Значения для поиска (годы, ретинг, тип и сортировка)\r\nconst years: FilterParams[] = [];\r\nfor (let i = 2026; i >= 1890; i--) {\r\n\tconst strI = String(i);\r\n\tyears.push({ id: strI, year: i });\r\n}\r\nconst ratings: FilterParams[] = [];\r\nfor (let i = 10; i >= 0; i--) {\r\n\tconst strI = String(i);\r\n\tratings.push({ id: strI, rating: i });\r\n}\r\n\r\nconst types: FilterParams[] = [{ id: 'FILM', type: 'фильм' }, { id: 'TV_SERIES', type: 'сериал' }];\r\n\r\nconst orderVariants: FilterParams[] = [{ id: 'YEAR', order: 'дате выхода' }, { id: 'NUM_VOTE', order: 'популярности' }, { id: 'RATING', order: 'рейтингу' }];\r\n\r\nconst sortVariants: SortVariant[] = [\r\n\t{ id: 1, name: 'дате выхода', sortFn: (a, b) => Number(b.year) - Number(a.year) },\r\n\t{ id: 2, name: 'алфавиту', sortFn: (a, b) => a.nameRu.localeCompare(b.nameRu) },\r\n\t{ id: 3, name: 'рейтингу', sortFn: (a, b) => Number(b.ratingKinopoisk) - Number(a.ratingKinopoisk) }];\r\n\r\nexport { years, ratings, types, orderVariants, sortVariants };","import { MovieShortData } from '../types/types';\r\n\r\nexport function addToFavorites(movie: MovieShortData, userName: string) {\r\n\tconst favorites: MovieShortData[] = JSON.parse(localStorage.getItem(userName + '-Favorites'));\r\n\tfavorites.push(movie);\r\n\tlocalStorage.setItem(userName + '-Favorites', JSON.stringify(favorites));\r\n}\r\n\r\nexport function removeFromFavorites(movieId: number, userName: string) {\r\n\tlet favorites: MovieShortData[] = JSON.parse(localStorage.getItem(userName + '-Favorites'));\r\n\tfavorites = favorites.filter(e => e.kinopoiskId !== movieId);\r\n\tlocalStorage.setItem(userName + '-Favorites', JSON.stringify(favorites));\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"FavoriteSelection_container__xhcND\"};","import { Dispatch } from 'react';\r\nimport { Typography, TextField, ButtonGroup, Button } from '@mui/material';\r\nimport { SortVariant } from '../../types/types';\r\nimport styles from './FavoriteSelection.module.css';\r\n\r\nconst fieldNameStyle = { fontSize: 36, fontWeight: 700, width: '30%' };\r\n\r\ninterface FavoriteSelectionProps {\r\n\tsortVariants: SortVariant[],\r\n\tactiveVariantId: number,\r\n\thandlSortChange: (index: number) => void,\r\n\tsearch: string,\r\n\tsetSearch: Dispatch<React.SetStateAction<string>>\r\n}\r\n\r\nexport default function FavoriteSelection({ sortVariants, activeVariantId, handlSortChange, search, setSearch }: FavoriteSelectionProps) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={styles.container}>\r\n\t\t\t\t<Typography component=\"h2\" sx={fieldNameStyle}>Поиск</Typography>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tvalue={search}\r\n\t\t\t\t\tonChange={(event) => setSearch(event.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.container}>\r\n\t\t\t\t<Typography component=\"h2\" sx={fieldNameStyle}>Сортировать по</Typography>\r\n\t\t\t\t<ButtonGroup\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tsx={{ height: 46 }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{sortVariants.map((e, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey={e.id}\r\n\t\t\t\t\t\t\t\tvariant={activeVariantId === e.id ? 'contained' : 'outlined'}\r\n\t\t\t\t\t\t\t\tonClick={() => handlSortChange(i)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{e.name}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ButtonGroup>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { ChangeEvent, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router'\r\nimport { useAppSelector } from '../hooks/useStore';\r\nimport MovieList from '../components/MovieList/MovieList';\r\nimport { MovieShortData, SortVariant } from '../types/types';\r\nimport FavoriteSelection from '../components/FavoriteSelection/FavoriteSelection';\r\nimport { sortVariants } from '../constants/constants';\r\nimport { removeFromFavorites } from '../helpers/favorite';\r\nimport { Typography } from '@mui/material';\r\n\r\nexport default function FavoritesPage() {\r\n\tconst user = useAppSelector(state => state.user);\r\n\tconst [page, setPage] = useState(1);\r\n\tconst [search, setSearch] = useState('');\r\n\tconst [sort, setSort] = useState<SortVariant>(sortVariants[1]);\r\n\tconst [list, setList] = useState<MovieShortData[]>(JSON.parse(localStorage.getItem(user?.name + '-Favorites')));\r\n\tconst navigator = useNavigate();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!user?.isLogin) navigator('/Authorization');\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [user]);\r\n\r\n\tconst handlePageChange = (event: ChangeEvent<unknown>, value: number) => {\r\n\t\tsetPage(value);\r\n\t};\r\n\r\n\tconst handlSortChange = (index: number) => {\r\n\t\tsetSort(sortVariants[index]);\r\n\t\tsetPage(1);\r\n\t};\r\n\r\n\tconst handleRemove = (id: number) => {\r\n\t\tsetList(list.filter(e => e.kinopoiskId !== id))\r\n\t\tremoveFromFavorites(id, user.name);\r\n\t};\r\n\r\n\tconst filteredlist = list?.filter(e => e.nameRu.includes(search)).sort(sort.sortFn);\r\n\r\n\treturn (\r\n\t\t<div style={{ width: '70%' }}>\r\n\t\t\t<FavoriteSelection\r\n\t\t\t\tsortVariants={sortVariants}\r\n\t\t\t\tactiveVariantId={sort.id}\r\n\t\t\t\thandlSortChange={handlSortChange}\r\n\t\t\t\tsearch={search}\r\n\t\t\t\tsetSearch={setSearch}\r\n\t\t\t/>\r\n\t\t\t{\r\n\t\t\t\tfilteredlist?.length > 0 ?\r\n\t\t\t\t\t<MovieList\r\n\t\t\t\t\t\ttotalPages={Math.ceil(filteredlist.length / 10)}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\thandlePageChange={handlePageChange}\r\n\t\t\t\t\t\tremoveButton\r\n\t\t\t\t\t\thandleRemove={handleRemove}\r\n\t\t\t\t\t\tlist={filteredlist.filter((_, i) => i >= page * 10 - 10 && i < page * 10)} />\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div style={{ textAlign: 'center', marginTop: '20px' }}>\r\n\t\t\t\t\t\t<Typography variant=\"h2\" >Список пуст...</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div >\r\n\t)\r\n}\r\n"],"names":["MovieList","_ref","totalPages","page","handlePageChange","list","removeButton","handleRemove","props","_objectWithoutProperties","_excluded","_jsxs","_objectSpread","className","styles","container","children","_jsx","map","e","item","Link","to","concat","kinopoiskId","movie","src","posterUrl","alt","info","Typography","variant","sx","fontSize","style","textDecoration","nameRu","nameOriginal","IconButton","title","onClick","event","preventDefault","Delete","color","type","year","ratingKinopoisk","rating","Star","mr","countries","country","join","genres","genre","Pagination","count","onChange","showFirstButton","showLastButton","shape","size","years","i","strI","String","push","id","ratings","types","orderVariants","order","sortVariants","name","sortFn","a","b","Number","localeCompare","addToFavorites","userName","favorites","JSON","parse","localStorage","getItem","setItem","stringify","removeFromFavorites","movieId","filter","fieldNameStyle","fontWeight","width","FavoriteSelection","activeVariantId","handlSortChange","search","setSearch","component","TextField","value","target","ButtonGroup","height","Button","FavoritesPage","user","useAppSelector","state","setPage","useState","sort","setSort","setList","navigator","useNavigate","useEffect","isLogin","filteredlist","includes","index","length","Math","ceil","_","textAlign","marginTop"],"sourceRoot":""}