"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[165],{9898:(e,t,i)=>{i.d(t,{A:()=>m});var n=i(9379),a=i(45),o=i(5865),s=i(7392),r=i(9135),l=i(9320),c=i(1387),d=i(2250);const h={container:"MovieList_container__MvLZX",list:"MovieList_list__BhQmN",item:"MovieList_item__6NQOY",movie:"MovieList_movie__6aHyF",info:"MovieList_info__3FyDH",rating:"MovieList_rating__qZnU1"};var g=i(579);const v=["totalPages","page","handlePageChange","list","removeButton","handleRemove"];function m(e){let{totalPages:t,page:i,handlePageChange:m,list:u,removeButton:x,handleRemove:p}=e,f=(0,a.A)(e,v);return(0,g.jsxs)("div",(0,n.A)((0,n.A)({className:h.container},f),{},{children:[(0,g.jsx)("ul",{className:h.list,children:u.map((e=>(0,g.jsxs)("li",{className:h.item,children:[(0,g.jsxs)(d.N_,{to:"/movies/".concat(e.kinopoiskId),className:h.movie,children:[(0,g.jsx)("div",{className:h.container,children:(0,g.jsx)("img",{src:e.posterUrl,alt:"poster"})}),(0,g.jsxs)("div",{className:h.info,children:[(0,g.jsx)(o.A,{variant:"h3",sx:{fontSize:36},style:{textDecoration:"underline"},children:e.nameRu||e.nameOriginal}),(0,g.jsx)(o.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:(e.nameOriginal?e.nameOriginal+", ":"")+("FILM"===e.type?"\u0444\u0438\u043b\u044c\u043c, ":"\u0441\u0435\u0440\u0438\u0430\u043b, ")+e.year}),e.ratingKinopoisk?(0,g.jsxs)("span",{className:h.rating,children:[(0,g.jsx)(l.A,{sx:{mr:1},fontSize:"large"}),e.ratingKinopoisk]}):(0,g.jsx)(o.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:"\u041d\u0435\u0442 \u043e\u0446\u0435\u043d\u043e\u043a"}),(0,g.jsx)(o.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:e.countries.map((e=>e.country)).join(", ")}),(0,g.jsx)(o.A,{variant:"h4",sx:{fontSize:28},style:{color:"var(--fontcolor-gray)"},children:e.genres.map((e=>e.genre)).join(", ")})]})]}),x&&(0,g.jsx)(s.A,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e",sx:{mt:1.5},onClick:()=>{p(e.kinopoiskId)},children:(0,g.jsx)(c.A,{fontSize:"large"})})]},e.kinopoiskId)))}),(0,g.jsx)(r.A,{count:t,page:i,onChange:m,showFirstButton:!0,showLastButton:!0,shape:"rounded",size:"large",color:"primary"})]}))}},9953:(e,t,i)=>{i.d(t,{RC:()=>s,VQ:()=>a,VS:()=>n,Zb:()=>r,gK:()=>o});const n=[];for(let l=2026;l>=1890;l--){const e=String(l);n.push({id:e,year:l})}const a=[];for(let l=10;l>=0;l--){const e=String(l);a.push({id:e,rating:l})}const o=[{id:"FILM",type:"\u0444\u0438\u043b\u044c\u043c"},{id:"TV_SERIES",type:"\u0441\u0435\u0440\u0438\u0430\u043b"}],s=[{id:"YEAR",order:"\u0434\u0430\u0442\u0435 \u0432\u044b\u0445\u043e\u0434\u0430"},{id:"NUM_VOTE",order:"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438"},{id:"RATING",order:"\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443"}],r=[{id:1,name:"\u0434\u0430\u0442\u0435 \u0432\u044b\u0445\u043e\u0434\u0430",sortFn:(e,t)=>Number(t.year)-Number(e.year)},{id:2,name:"\u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443",sortFn:(e,t)=>e.nameRu.localeCompare(t.nameRu)},{id:3,name:"\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443",sortFn:(e,t)=>Number(t.ratingKinopoisk)-Number(e.ratingKinopoisk)}]},7254:(e,t,i)=>{function n(e,t){const i=JSON.parse(localStorage.getItem(t+"-Favorites"));i.push(e),localStorage.setItem(t+"-Favorites",JSON.stringify(i))}function a(e,t){let i=JSON.parse(localStorage.getItem(t+"-Favorites"));i=i.filter((t=>t.kinopoiskId!==e)),localStorage.setItem(t+"-Favorites",JSON.stringify(i))}i.d(t,{_:()=>n,w:()=>a})},3546:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var n=i(5043),a=i(2250),o=i(5777),s=i(9898),r=i(5865),l=i(5146),c=i(1165),d=i(2518);const h={container:"FavoriteSelection_container__xhcND"};var g=i(579);const v={fontSize:36,fontWeight:700,width:"30%"};function m(e){let{sortVariants:t,activeVariantId:i,handlSortChange:n,search:a,setSearch:o}=e;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:h.container,children:[(0,g.jsx)(r.A,{component:"h2",sx:v,children:"\u041f\u043e\u0438\u0441\u043a"}),(0,g.jsx)(l.A,{size:"small",value:a,onChange:e=>o(e.target.value)})]}),(0,g.jsxs)("div",{className:h.container,children:[(0,g.jsx)(r.A,{component:"h2",sx:v,children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e"}),(0,g.jsx)(c.A,{variant:"outlined",size:"large",sx:{height:46},children:t.map(((e,t)=>(0,g.jsx)(d.A,{variant:i===e.id?"contained":"outlined",onClick:()=>n(t),children:e.name},e.id)))})]})]})}var u=i(9953),x=i(7254);function p(){const e=(0,o.G)((e=>e.user)),[t,i]=(0,n.useState)(1),[l,c]=(0,n.useState)(""),[d,h]=(0,n.useState)(u.Zb[1]),[v,p]=(0,n.useState)(JSON.parse(localStorage.getItem((null===e||void 0===e?void 0:e.name)+"-Favorites"))),f=(0,a.Zp)();console.log("USER:",e),(0,n.useEffect)((()=>{null!==e&&void 0!==e&&e.isLogin||f("/Authorization")}),[e]);const S=null===v||void 0===v?void 0:v.filter((e=>e.nameRu.includes(l))).sort(d.sortFn);return(0,g.jsxs)("div",{style:{width:"70%"},children:[(0,g.jsx)(m,{sortVariants:u.Zb,activeVariantId:d.id,handlSortChange:e=>{h(u.Zb[e]),i(1)},search:l,setSearch:c}),(null===S||void 0===S?void 0:S.length)>0?(0,g.jsx)(s.A,{totalPages:Math.ceil(S.length/10),page:t,handlePageChange:(e,t)=>{i(t)},removeButton:!0,handleRemove:t=>{p(v.filter((e=>e.kinopoiskId!==t))),(0,x.w)(t,e.name)},list:S.filter(((e,i)=>i>=10*t-10&&i<10*t))}):(0,g.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:(0,g.jsx)(r.A,{variant:"h2",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442..."})})]})}}}]);
//# sourceMappingURL=165.23e1afb3.chunk.js.map