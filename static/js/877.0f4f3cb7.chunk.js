"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[877],{9877:(e,t,r)=>{r.r(t),r.d(t,{default:()=>z});var n=r(5043),s=r(7353),l=r(3625),a=r(4056),o=r(9379),i=r(45),u=r(579);const d=["children","value","index"];function c(e){let{children:t,value:r,index:n}=e,l=(0,i.A)(e,d);return(0,u.jsx)("div",(0,o.A)((0,o.A)({role:"tabpanel",hidden:r!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),{},{children:r===n&&(0,u.jsx)(s.A,{sx:{p:3},children:t})}))}var x=r(5146),f=r(2518),h=r(3559),p=r(3632),v=r(1787),g=r(7392);const j={color:"var(--fontcolor)"};function m(e){let{ref:t,error:r,helperText:s,lable:l,id:a,onChange:o}=e;const[i,d]=(0,n.useState)(!1);return(0,u.jsx)(x.A,{sx:{m:1},fullWidth:!0,name:"user",variant:"outlined",onChange:o,label:l,id:a,inputRef:t,error:r,helperText:s,type:i?"text":"password",slotProps:{input:{endAdornment:(0,u.jsx)(v.A,{position:"end",children:(0,u.jsx)(g.A,{onClick:()=>d((e=>!e)),onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()},edge:"end",children:i?(0,u.jsx)(h.A,{style:j}):(0,u.jsx)(p.A,{style:j})})})}}})}var b=r(2250),A=r(5777);const C={form:"LoginOrRegisterForm_form__SEi4G"},k={status:!1,text:""};function w(e){let{register:t=!1,enterHandler:r}=e;const s=(0,n.useRef)(null),l=(0,n.useRef)(null),a=(0,n.useRef)(null),[o,i]=(0,n.useState)(k),[d,c]=(0,n.useState)(k),h=(0,A.j)(),p=(0,b.Zp)(),v=(0,b.zy)();function g(){d.status&&c(k)}return(0,u.jsxs)("form",{className:C.form,id:(t?"register-":"login-")+"form",children:[(0,u.jsx)(x.A,{sx:{m:1},fullWidth:!0,label:"\u041b\u043e\u0433\u0438\u043d",name:"user",variant:"outlined",inputRef:s,error:o.status,helperText:o.text,onChange:function(){o.status&&i(k)}}),(0,u.jsx)(m,{ref:l,lable:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"password1",error:d.status,helperText:d.text||t&&"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432\u043a\u043b\u044e\u0447\u0430\u044f 1 \u0431\u0443\u043a\u0432\u0443 \u0438 1 \u0446\u0438\u0444\u0440\u0443",onChange:g}),t&&(0,u.jsx)(m,{ref:a,lable:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",id:"password2",error:d.status,helperText:d.text,onChange:g}),(0,u.jsx)(f.A,{variant:"contained",size:"large",fullWidth:!0,onClick:function(){let e=!0;const n=s.current.value,o=l.current.value;if(n.length>2?i(k):(i({status:!0,text:"\u041b\u043e\u0433\u0438\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}),e=!1),o.length>7&&o.match(/[a-z]\d|\d[a-z]/i)?(c(k),t&&o!==a.current.value&&(c({status:!0,text:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}),e=!1)):(c({status:!0,text:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c"}),e=!1),e){var u;try{h(r({login:n,password:o}))}catch(d){return console.log(d.message),i({status:!0,text:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),void c({status:!0,text:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})}p((null===(u=v.state)||void 0===u?void 0:u.referrer)||document.referrer||"/")}},children:t?"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f":"\u0412\u043e\u0439\u0442\u0438"})]})}var y=r(5995);function z(){const[e,t]=(0,n.useState)(0),r=(0,A.G)((e=>e.user)),o=(0,b.zy)(),i=(0,b.Zp)();(0,n.useEffect)((()=>{var e;t((null===(e=o.state)||void 0===e?void 0:e.registration)||0),null!==r&&void 0!==r&&r.isLogin&&i("/")}),[]);return(0,u.jsxs)("div",{children:[(0,u.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,u.jsxs)(l.A,{centered:!0,value:e,onChange:(e,r)=>{t(r)},children:[(0,u.jsx)(a.A,{sx:{fontSize:30},label:"\u0412\u0445\u043e\u0434",id:"simple-tab-0"}),(0,u.jsx)(a.A,{sx:{fontSize:30},label:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",id:"simple-tab-1"})]})}),(0,u.jsx)(c,{value:e,index:0,children:(0,u.jsx)(w,{enterHandler:y.E8})}),(0,u.jsx)(c,{value:e,index:1,children:(0,u.jsx)(w,{register:!0,enterHandler:y.kg})})]})}}}]);
//# sourceMappingURL=877.0f4f3cb7.chunk.js.map